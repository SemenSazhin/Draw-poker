### Начать игру

![diagram](images/lab3-1.drawio.png)

| Действие    | Запуск игры |
| Ссылки      | Преценденты: "Начать игру" |
| Предусловия | Игра не запущена |
| Постусловия | Игра запущена |

| Действие    | Запросить имя и количество фишек |
| Ссылки      | Преценденты: "Начать игру" |
| Предусловия | Игра запущена |
| Постусловия | Появились поля для ввода данных |

| Действие    | Ввести имя и количество фишек |
| Ссылки      | Преценденты: "Начать игру" |
| Предусловия | Появились поля для ввода данных |
| Постусловия | Данные прошли проверку на корректность |

| Действие    | Сообщить о ошибке при вводе данных |
| Ссылки      | Преценденты: "Начать игру" |
| Предусловия | Данные введены некорректно |
| Постусловия | Всплывает окно об ошибке |

| Действие    | Сохранить данные |
| Ссылки      | Преценденты: "Начать игру" |
| Предусловия | Данные корректны |
| Постусловия | Данные сохранены |

| Действие    | Внести все фишки в банк игры |
| Ссылки      | Преценденты: "Начать игру", "Сделать ставку" |
| Предусловия | Суммированы все внесеные фишки |
| Постусловия | Банк игры пополнен |

| Действие    | Определить дилера |
| Ссылки      | Преценденты: "Начать игру" |
| Предусловия | Банк игры пополнен |
| Постусловия | Определен дилер |

| Действие    | Выдать 5 карт |
| Ссылки      | Преценденты: "Начать игру" |
| Предусловия | Определен дилер |
| Постусловия | Каждый игрок имеет 5 карт |

### Сделать ставку

![diagram](images/lab3-2.drawio.png)

| Действие    | Выбрать игрока который будет ставить первым |
| Ссылки      | Преценденты: "Сделать ставку" |
| Предусловия | Ни один игрок не сделал ставку |
| Постусловия | Ход переходит к следующему после дилера игроку |

| Действие    | Ввести cумму ставки |
| Ссылки      | Преценденты: "Сделать ставку" |
| Предусловия | Настал ход игрока |
| Постусловия | Ставка сохранена |

| Действие    | Обозначить игрока выбывшим |
| Ссылки      | Преценденты: "Сделать ставку" |
| Предусловия | Игрок отказался от ставки |
| Постусловия | Игрок покидает игру до окончания раунда |

| Действие    | Передать право первой ставки следующему игроку |
| Ссылки      | Преценденты: "Сделать ставку" |
| Предусловия | Игрок выбыл из игры |
| Постусловия | Следующему игроку переходит ход |

| Действие    | Запомнить ставку игрока |
| Ссылки      | Преценденты: "Сделать ставку" |
| Предусловия | Введена ставка, удовлетворяющая всем условиям |
| Постусловия | Ставка игрока сохранена |


### Принять Ставку

![diagram](images/lab3-3.drawio.png)

| Действие    | Нажать кнопку принять ставку |
| Ссылки      | Преценденты: "Принять Ставку" |
| Предусловия | Ход перешёл к игроку, ставка уже кем то сделана |
| Постусловия | Игрок принимает ставку|

| Действие    | Уравнять ставки игрока с предыдущей ставкой |
| Ссылки      | Преценденты: "Принять Ставку" |
| Предусловия | Игрок принял ставку |
| Постусловия | Ставка игрока становится равна сумме предыдущей ставки |

| Действие    | Обозначить игрока выбывшим |
| Ссылки      | Преценденты: "Принять ставку" |
| Предусловия | Игрок отказался от ставки |
| Постусловия | Игрок покидает игру до окончания раунда |

| Действие    | Переместить ранее поставленные фишки в банк игры |
| Ссылки      | Преценденты: "Принять ставку" |
| Предусловия | Игрок не принял ставку, ранее в этом же раунде игрок делал ставки |
| Постусловия | Фишки игрока уходят в банк игры |

| Действие    | Запомнить ставку игрока |
| Ссылки      | Преценденты: "Принять ставку" |
| Предусловия | Игрок принял ставку |
| Постусловия | Ставка игрока сохранена |

| Действие    | Проверить является ли игрок дилером |
| Ссылки      | Преценденты: "Принять ставку" |
| Предусловия | Ставка игрока сохранена |
| Постусловия | Система определяет передать ход дальше или закончить раунд |

| Действие    | Проверить равна ли ставка у всех игроков |
| Ссылки      | Преценденты: "Принять ставку" |
| Предусловия | Текущий игрок дилер |
| Постусловия | Система проверяет корректна ли ставка всех игроков |

| Действие    | Передать ход следующему игроку |
| Ссылки      | Преценденты: "Принять ставку" |
| Предусловия | Текущий игрок не дилер, или ставки не уравнены |
| Постусловия | Ход переходит к следующему игроку |

| Действие    | Внести фишки всех игроков в банк игры |
| Ссылки      | Преценденты: "Принять ставку" |
| Предусловия | Ставки игроков уравнены |
| Постусловия | Фишки всех ставок суммируются и переходят в банк |

| Действие    | Переместить банк игры на счет игрока |
| Ссылки      | Преценденты: "Принять ставку" |
| Предусловия | Все игроки кроме одного отказались от ставки |
| Постусловия | Фишки банка перемещаются на счёт оставшегося игрока |



### Повысить ставку

| Действие    | Нажать кнопку повысить ставку |
| Ссылки      | Преценденты: "Повысить Ставку" |
| Предусловия | Ход перешёл к игроку, ставка уже кем то сделана |
| Постусловия | Игрок повышает ставку|

| Действие    | Ввести сумму новой ставки |
| Ссылки      | Преценденты: "Повысить Ставку" |
| Предусловия | Игрок решил повысить ставку |
| Постусловия | Игрок вводит сумму новой ставки |

| Действие    | Уведомить игрока об ошибке |
| Ссылки      | Преценденты: "Повысить Ставку" |
| Предусловия | Игрок ввел сумму меньше предыдущей ставки |
| Постусловия | Игрок получает сообщение об ошибке ввода данных |

| Действие    | Запомнить ставку игрока |
| Ссылки      | Преценденты: "Повысить ставку" |
| Предусловия | Игрок повысил ставку |
| Постусловия | Ставка игрока сохранена |

| Действие    | Передать ход следующему игроку |
| Ссылки      | Преценденты: "Повысить ставку" |
| Предусловия | Игрок успешно повысил ставку |
| Постусловия | Ход переходит к следующему игроку |

### Отказаться от ставки

![diagram](images/диаграмма3-5.drawio.png)

| Действие    | Нажать кнопку отказаться от ставки |
| Ссылки      | Преценденты: "Отказаться от ставки" |
| Предусловия | Ход перешёл к игроку, ставка уже кем то сделана |
| Постусловия | Игрок отказывается делать ставку|

| Действие    | Вывести игрока из игры |
| Ссылки      | Преценденты: "Отказаться от ставки" |
| Предусловия | Игрок решил отказаться от ставки |
| Постусловия | Игрок покидает игру до окончания раунда |

| Действие    | Переместить ранее поставленные фишки в банк игры |
| Ссылки      | Преценденты: "Отказаться от ставки"|
| Предусловия | Игрок не принял ставку, ранее в этом же раунде игрок делал ставки |
| Постусловия | Фишки игрока уходят в банк игры |

| Действие    | Проверить сколько ещё человек осталось в игре |
| Ссылки      | Преценденты: "Отказаться от ставки"|
| Предусловия | Один из игроков выбыл из игры |
| Постусловия | Система проверяет число игроков |

| Действие    | Переместить банк игры на счёт оставшегося игрока |
| Ссылки      | Преценденты: "Отказаться от ставки" |
| Предусловия | Игрок остался 1 в игре |
| Постусловия | Банк игры переходит на счёт игрока|

| Действие    | Передать ход следующему игроку |
| Ссылки      | Преценденты: "Отказаться от ставки" |
| Предусловия | Игрок выбыл из игры, но осталось более 1 игрока |
| Постусловия | Ход переходит к следующему игроку |

### Заменить карты 

![diagram](images/диаграмма3-6.drawio.png)

| Действие    | Попросить замену карт |
| Ссылки      | Преценденты: "Заменить карты" |
| Предусловия | Начался этап торговли |
| Постусловия | Игрок просит у системы замену|

| Действие    | Предоставить возможность выбрать карты для замены |
| Ссылки      | Преценденты: "Заменить карты" |
| Предусловия | Игрок попросил заменить карты |
| Постусловия | Предоставлен выбор карт |

| Действие    | Выбрать карты |
| Ссылки      | Преценденты: "Заменить карты" |
| Предусловия | Предоставлен выбор карт |
| Постусловия | Выбраны карты для замены |

| Действие    | Выдать игроку новые карты, а старые отобрать |
| Ссылки      | Преценденты: "Заменить карты" |
| Предусловия | Игрок выбрал карты для замены |
| Постусловия | Вместо выбранных карт выданы новые карты |

| Действие    | Проверить является ли игрок дилером |
| Ссылки      | Преценденты: "Заменить карты" |
| Предусловия | Игрок завершил ход |
| Постусловия | Конец этапа "Торговля" |

| Действие    | Передать ход следующему игроку  |
| Ссылки      | Преценденты: "Заменить карты" |
| Предусловия | Текущий игрок не дилер |
| Постусловия | Ход переходит следующему игроку |